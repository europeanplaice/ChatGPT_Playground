(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{7432:function(e,n,t){Promise.resolve().then(t.bind(t,4874))},4874:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return y}});var a=t(9268),s=t(6006),i=t(4214),r=t(7807),l=t(4196),o=t(3607),c=t(7931),d=t(4864),u=t(4310),h=t(2525),x=t(1710),m=t(5383),g=t(3370);let p=async(e,n)=>{try{let t=await (0,i.Z)(e,n);return t.data}catch(e){throw e}},j=e=>{let n=e.split("\n");return n.map((e,n)=>(0,a.jsxs)(s.Fragment,{children:[e,(0,a.jsx)("br",{})]},n))};async function Z(e,n,t,a){let s=[...n,{role:"user",content:e}],i=await p("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{Authorization:"Bearer ".concat(a.apikey),"OpenAI-Organization":"".concat(a.Organization),"Content-Type":"application/json"},data:{model:"gpt-3.5-turbo",messages:s}});t(n=>[...n,{role:"user",content:e}]),t(e=>[...e,{role:"assistant",content:i.choices[0].message.content}])}function y(){let[e,n]=(0,s.useState)([]),[t,i]=(0,s.useState)(""),[p,y]=(0,s.useState)(!1),[f,b]=(0,s.useState)(null),[v,O]=(0,s.useState)({Organization:"",apikey:""}),k=async()=>{y(!0),b(null);try{await Z(t,e,n,v)}catch(e){b(e.message)}finally{y(!1),i("")}};return(0,a.jsxs)(r.Z,{maxWidth:"md",children:[(0,a.jsx)("h1",{children:"Test ChatGPT"}),(0,a.jsxs)(h.Z,{sx:{marginBottom:"1em",maxWidth:"60%"},children:[(0,a.jsx)(x.Z,{expandIcon:(0,a.jsx)(g.Z,{}),children:"API Config"}),(0,a.jsxs)(m.Z,{children:[(0,a.jsx)(o.Z,{label:"Organization ID",type:"password",sx:{marginRight:"4px"},value:v.Organization,onChange:e=>O(n=>({...n,Organization:e.target.value}))}),(0,a.jsx)(o.Z,{label:"API KEY",type:"password",value:v.apikey,onChange:e=>O(n=>({...n,apikey:e.target.value}))})]})]}),f&&(0,a.jsx)(u.Z,{severity:"error",children:f}),(0,a.jsxs)(l.Z,{sx:{margin:"1em"},children:[e.map((e,n)=>(0,a.jsxs)(l.Z,{children:[(0,a.jsx)("h2",{children:e.role}),(0,a.jsx)(l.Z,{children:j(e.content)}),(0,a.jsx)("hr",{})]},n)),p?(0,a.jsx)(d.Z,{color:"secondary"}):""]}),(0,a.jsxs)(l.Z,{children:[(0,a.jsx)(o.Z,{id:"outlined-multiline-flexible",label:"message",multiline:!0,maxRows:100,fullWidth:!0,value:t,onChange:e=>i(e.target.value),disabled:p}),(0,a.jsx)(c.Z,{sx:{margin:"1em"},onClick:k,variant:"contained",disabled:p,children:p?"sending...":"send"})]})]})}}},function(e){e.O(0,[972,667,488,744],function(){return e(e.s=7432)}),_N_E=e.O()}]);